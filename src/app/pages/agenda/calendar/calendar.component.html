<div id="monCalendrier">

    <full-calendar deepChangeDetection="true" id="myCalendar" [options]="calendarOptions"></full-calendar>

    <div id="ajoutDispo">
        <p-button (click)="showModalDialog()" icon="pi pi-plus-circle" label="Ajouter une disponibilité"></p-button>
    </div>

    <!--Modal pour ajouter une disponibilité-->
    <p-dialog header="Nouvelle disponibilité" [(visible)]="displayModal" [modal]="true" [style]="{width: '50vw'}"
        [baseZIndex]="10000" [draggable]="false" [resizable]="true" [contentStyle]="{'overflow': 'visible'}">
        <form [formGroup]="dispoForm">
            <div id="maPopup">
                <div class="addDispo">
                    <h5>Date de début - date de fin :</h5>
                    <p-calendar inputId="dateDeb" dateFormat="dd/mm/yy" [minDate]="minDateValue" selectionMode="range" formControlName="dateDeb">
                    </p-calendar>
                </div>
                <div class="addDispo">
                    <div class="p-grid">
                        <div class="p-col-4 hourGrp">
                            <h5>Toute la journée ?</h5>
                        </div>
                        <div class="p-col-4 hourGrp">
                            <h5>Heure de début :</h5>
                        </div>
                        <div class="p-col-4 hourGrp">
                            <h5>Heure de fin :</h5>
                        </div>
                        <div class="p-col-4 hourGrp">
                            <p-inputSwitch inputId="allDay" formControlName="isJourComplet"></p-inputSwitch>
                        </div>
                        <div class="p-col-4 hourGrp">
                            <p-dropdown inputId="heureDeb" optionValue="heure"
                                [options]="heures" placeholder="00:00" optionLabel="heure" formControlName="heureDeb"></p-dropdown>
                        </div>
                        <div class="p-col-4 hourGrp">
                            <p-dropdown inputId="heureFin" optionValue="heure"
                                [options]="heures" placeholder="00:00" optionLabel="heure" formControlName="heureFin"></p-dropdown>
                        </div>
                    </div>
                </div>
                <div class="addDispo">
                    <h5>Fréquence :</h5>
                    <p-dropdown inputId="freq" [options]="frequences"
                        optionValue="code" placeholder="Choisissez une fréquence" optionLabel="name" formControlName="freq"></p-dropdown>
                </div>
                <div id="dateSession" *ngIf="isMj">
                    <h5>Définir cette date comme prochaine date de session ?</h5>
                    <p-selectButton inputId="dateSess" [options]="stateOptions" optionLabel="label" optionValue="value" formControlName="isNextSession">
                    </p-selectButton>
                </div>
            </div>
        </form>
        <ng-template pTemplate="footer">
            <button icon="pi pi-times" pButton pRipple type="button" (click)="displayModal=false" label="Annuler"
                class="p-button-danger"></button>
            <p-button icon="pi pi-check" (click)="addingDispo()" label="Ajouter" class="p-button-text"></p-button>
        </ng-template>
    </p-dialog>
</div>